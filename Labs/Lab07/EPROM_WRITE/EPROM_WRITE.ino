#include <EEPROM.h>

float voltage[] = { 8.1038,7.90599008,7.759368319999999,7.60705952,7.4052255999999995,7.239008,7.24741152,7.197253120000001,7.17444128,7.14484544,7.124433600000001,7.0940217599999995,7.12627104,7.1005046400000005,7.117824000000001,7.0772848,7.051514559999999,7.072191999999999,7.03765344,7.0361164800000005,7.0591664000000005,7.00620768,7.00471872,7.008584320000001,6.97259616,6.971424,6.96923776,6.953863360000001,6.9666710400000005,6.92252608,6.920416,6.940976,6.90275456,6.9034774400000005,6.91431872,6.869451199999999,6.8694656,6.85072704,6.85006176,6.846093120000001,6.830286399999999,6.82606144,6.822932799999999,6.79761376,6.80786752,6.776283200000001,6.792758719999999,6.7546832,6.74498432,6.743241919999999,6.724224,6.72504768,6.683032,6.66446176,6.6426054400000005,6.664984,6.63174048,6.600730560000001,6.60184512,6.57164928,6.5511424,6.553473600000001,6.522208,6.518298880000001,6.4885366399999995,6.4474992,6.4583587200000006,6.41550336,6.410655679999999,6.39739648,6.3963904000000005,6.371791999999999,6.339154559999999,6.308661120000002,6.30058944,6.293856000000001,6.24001408,6.23107936,6.2250320000000015,6.16913504,6.151448000000001,6.145004480000001,6.132271680000001,6.0926,6.06447296,6.063732800000002,6.045130880000002,5.99271904,6.009432,5.97184,5.9336736000000005,5.92078656,5.871056000000001,5.87452544,5.83856896,5.843007999999999,5.786247680000001,5.751024,5.753851839999999,5.71323808,0.05};
int address = 0;

void clearEEPROM() {
  for (int i = 0; i < EEPROM.length(); i++) {
    EEPROM.write(i, 0);
  }
  Serial.println("EEPROM data successfully deleted");
}

void writeDataToEEPROM() {
  if (EEPROM.put(address, voltage)) {
    Serial.println("EEPROM data successfully written");
  } else {
    Serial.println("Error writing to EEPROM");
  }
}

void setup() {
  Serial.begin(9600);

  // Clear EEPROM before writing new data
  clearEEPROM();

  // Write data to EEPROM
  writeDataToEEPROM();

  float readVoltage[sizeof(voltage) / sizeof(voltage[0])];

  // Read data from EEPROM
  if (EEPROM.get(address, readVoltage)) {
    // Print the read values to the Serial Monitor
    for (int i = 0; i < sizeof(voltage) / sizeof(voltage[0]); i++) {
      Serial.print("Value at index ");
      Serial.print(i);
      Serial.print(": ");
      Serial.println(readVoltage[i], 4); // Adjust the precision as needed
    }

    // Print the size of the readVoltage array
    Serial.print("Size of readVoltage array: ");
    Serial.println(sizeof(readVoltage) / sizeof(readVoltage[0]));
  } else {
    Serial.println("Error reading from EEPROM");
  }
}

void loop() {
  
}
